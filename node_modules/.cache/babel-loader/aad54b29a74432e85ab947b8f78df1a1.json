{"ast":null,"code":"var _jsxFileName = \"/mnt/sda1/Documents/Personal_projects/chords/guess_the_chord/src/AppImg.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Timer from './Timer';\nimport c1 from './c1.png';\nimport d1 from './d1.png';\nimport e1 from './e1.png';\nimport f1 from './f1.png';\nimport g1 from './g1.png';\nimport a1 from './a1.png';\nimport b1 from './b1.png';\nimport c2 from './c2.png';\nimport d2 from './d2.png';\nimport e2 from './e2.png';\nimport f2 from './f2.png';\nimport g2 from './g2.png';\nimport a2 from './a2.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst chords = [c1, d1, e1, f1, g1, a1, b1, c2, d2, e2, f2, g2, a2];\nconst chords_names = ['c1', 'd1', 'e1', 'f1', 'g1', 'a1', 'b1', 'c2', 'd2', 'e2', 'f2', 'g2', 'a2'];\n\nfunction generateQuestion() {\n  var curr_chord_pos = Math.floor(Math.random() * chords.length);\n  const possible_pos = [-1, 1];\n  var pos = possible_pos[Math.floor(Math.random() * possible_pos.length)];\n  var next_chord_pos = ((curr_chord_pos + pos) % chords.length + chords.length) % chords.length; //const qtext = `${pos === 1 ? 'Depois de' : 'Antes de'} ${chords[curr_chord_pos]}`;\n\n  const qtext = chords[curr_chord_pos];\n  const helper = chords.slice();\n  const random_answers = helper.sort(() => Math.random() - Math.random()).slice(0, 4);\n  const answer_pos = Math.floor(Math.random() * 4);\n\n  if (!random_answers.includes(chords[next_chord_pos])) {\n    random_answers[answer_pos] = chords[next_chord_pos];\n  }\n\n  const answerOptions = random_answers.map(x => {\n    const index = chords.indexOf(x);\n    console.log(x, index);\n    return {\n      'answerText': chords[index],\n      'isCorrect': x === chords[next_chord_pos]\n    };\n  });\n  console.log(random_answers);\n  console.log(chords[next_chord_pos]);\n  console.log(answerOptions);\n  const question = {\n    questionText: qtext,\n    answerOptions: answerOptions\n  };\n  return question;\n}\n\nfunction getTime(streak) {\n  return Math.max(Math.floor(-6 / 25 * streak + 20), 1);\n}\n\nexport default function App() {\n  _s();\n\n  const question = generateQuestion();\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [score, setScore] = useState(0);\n  const [streak, setStreak] = useState(0);\n  const [lastRight, setLastRight] = useState(null);\n\n  const handleAnswerOptionClick = isCorrect => {\n    if (isCorrect) {\n      setScore(score + 1);\n      setStreak(streak + 1);\n      setLastRight(true);\n    } else {\n      setStreak(0);\n      setLastRight(false);\n    }\n\n    const nextQuestion = currentQuestion + 1;\n    setCurrentQuestion(nextQuestion);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-title\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: question.questionText,\n            alt: \"question image\",\n            className: \"question-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-data feedback\",\n          children: lastRight == undefined ? 'Vamo que vamo' : lastRight ? 'Certo!' : 'Errado =('\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-data\",\n          children: [\"Streak \", streak]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-data\",\n          children: [\"Certas \", score, \" / \", currentQuestion]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answer-section\",\n        children: question.answerOptions.map(answerOption => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAnswerOptionClick(answerOption.isCorrect),\n          children: answerOption.answerText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"yotIW0TPZDF0pM94HegV9FKpaQY=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/mnt/sda1/Documents/Personal_projects/chords/guess_the_chord/src/AppImg.js"],"names":["React","useState","Timer","c1","d1","e1","f1","g1","a1","b1","c2","d2","e2","f2","g2","a2","chords","chords_names","generateQuestion","curr_chord_pos","Math","floor","random","length","possible_pos","pos","next_chord_pos","qtext","helper","slice","random_answers","sort","answer_pos","includes","answerOptions","map","x","index","indexOf","console","log","question","questionText","getTime","streak","max","App","currentQuestion","setCurrentQuestion","score","setScore","setStreak","lastRight","setLastRight","handleAnswerOptionClick","isCorrect","nextQuestion","undefined","answerOption","answerText"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Timer from './Timer';\nimport c1 from './c1.png'\nimport d1 from './d1.png'\nimport e1 from './e1.png'\nimport f1 from './f1.png'\nimport g1 from './g1.png'\nimport a1 from './a1.png'\nimport b1 from './b1.png'\nimport c2 from './c2.png'\nimport d2 from './d2.png'\nimport e2 from './e2.png'\nimport f2 from './f2.png'\nimport g2 from './g2.png'\nimport a2 from './a2.png'\n\nconst chords = [c1, d1, e1, f1, g1, a1, b1, c2, d2, e2, f2, g2, a2,];\nconst chords_names = ['c1', 'd1', 'e1', 'f1', 'g1', 'a1', 'b1', 'c2', 'd2', 'e2', 'f2', 'g2', 'a2',];\n\nfunction generateQuestion() {\n  var curr_chord_pos = Math.floor(Math.random() * chords.length);\n  \n  const possible_pos = [-1, 1];\n  var pos = possible_pos[Math.floor(Math.random() * possible_pos.length)];\n  var next_chord_pos = (((curr_chord_pos + pos) % chords.length) + chords.length) % chords.length;\n  \n  //const qtext = `${pos === 1 ? 'Depois de' : 'Antes de'} ${chords[curr_chord_pos]}`;\n  const qtext = chords[curr_chord_pos];\n  \n  const helper = chords.slice();\n  const random_answers = helper.sort(() => Math.random() - Math.random()).slice(0, 4);\n  const answer_pos = Math.floor(Math.random() * 4);\n  \n  if (!(random_answers.includes(chords[next_chord_pos]))) {\n    random_answers[answer_pos] = chords[next_chord_pos];\n  }\n\n  const answerOptions = random_answers.map(x => {\n    const index = chords.indexOf(x);\n    console.log(x, index)\n    return {'answerText': chords[index], 'isCorrect': (x === chords[next_chord_pos])}\n  });\n\n  console.log(random_answers);\n  console.log(chords[next_chord_pos]);\n  console.log(answerOptions);\n\n  const question = {\n      questionText: qtext,\n      answerOptions: answerOptions\n    }\n    \n  return question;\n}\n\nfunction getTime(streak) {\n  return Math.max(Math.floor(-6/25*streak + 20), 1);\n}\n\nexport default function App() {\n  const question = generateQuestion();\n\n\tconst [currentQuestion, setCurrentQuestion] = useState(0);\n\tconst [score, setScore] = useState(0);\n\tconst [streak, setStreak] = useState(0);\n\tconst [lastRight, setLastRight] = useState(null);\n\n\tconst handleAnswerOptionClick = (isCorrect) => {\n\t\tif (isCorrect) {\n\t\t\tsetScore(score + 1);\n\t\t\tsetStreak(streak + 1);\n\t\t\tsetLastRight(true);\n\t\t} else {\n      setStreak(0);\n      setLastRight(false);\n    }\n    \n    const nextQuestion = currentQuestion + 1;\n    setCurrentQuestion(nextQuestion);\n  }\n  \n\treturn (\n    <div className='wrapper'>\n      <div className='app'>\n          <div className='question-section'>\n            <div className='question-title'>\n              {/* <span>{question.questionText}</span> */}\n              <img src={question.questionText} alt='question image' className='question-image'/>\n            </div>\n            <div className='score-data feedback'>{lastRight==undefined?'Vamo que vamo' : lastRight ? 'Certo!':'Errado =('}</div>\n            <div className='score-data'>Streak {streak}</div>\n            <div className='score-data'>Certas {score} / {currentQuestion}</div>\n          </div>\n          <div className='answer-section'>\n            {question.answerOptions.map((answerOption) => (\n              <button onClick={() => handleAnswerOptionClick(answerOption.isCorrect)}>{answerOption.answerText}</button>\n              ))}\n          </div>\n      </div>\n      \n      {/* <Timer time={getTime(streak)} question={currentQuestion}/> */}\n\t</div>\n\t);\n}"]},"metadata":{},"sourceType":"module"}