{"ast":null,"code":"var _jsxFileName = \"/mnt/sda1/Documents/Personal_projects/chords/guess_the_chord/src/AppImg.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Timer from './Timer'; // const chords = ['C', 'D', 'E', 'F', 'G', 'A', 'B'];\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst chords = ['Do', 'Re', 'Mi', 'Fa', 'Sol', 'La', 'Si'];\n\nfunction generateQuestion() {\n  var curr_chord_pos = Math.floor(Math.random() * chords.length);\n  const possible_pos = [-1, 1];\n  var pos = possible_pos[Math.floor(Math.random() * possible_pos.length)];\n  var next_chord_pos = ((curr_chord_pos + pos) % chords.length + chords.length) % chords.length;\n  const qtext = `${pos === 1 ? 'Depois de' : 'Antes de'} ${chords[curr_chord_pos]}`;\n  const helper = chords.slice();\n  const random_answers = helper.sort(() => Math.random() - Math.random()).slice(0, 4);\n  const answer_pos = Math.floor(Math.random() * 4);\n\n  if (!random_answers.includes(chords[next_chord_pos])) {\n    random_answers[answer_pos] = chords[next_chord_pos];\n  }\n\n  const answerOptions = random_answers.map(x => {\n    return {\n      'answerText': x,\n      'isCorrect': x === chords[next_chord_pos]\n    };\n  });\n  const question = {\n    questionText: qtext,\n    answerOptions: answerOptions\n  };\n  return question;\n}\n\nfunction getTime(streak) {\n  return Math.max(Math.floor(-6 / 25 * streak + 20), 1);\n}\n\nexport default function App() {\n  _s();\n\n  const question = generateQuestion();\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [score, setScore] = useState(0);\n  const [streak, setStreak] = useState(0);\n  const [lastRight, setLastRight] = useState(null);\n\n  const handleAnswerOptionClick = isCorrect => {\n    if (isCorrect) {\n      setScore(score + 1);\n      setStreak(streak + 1);\n      setLastRight(true);\n    } else {\n      setStreak(0);\n      setLastRight(false);\n    }\n\n    const nextQuestion = currentQuestion + 1;\n    setCurrentQuestion(nextQuestion);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-title\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: question.questionText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-data feedback\",\n          children: lastRight == undefined ? 'Vamo que vamo' : lastRight ? 'Certo!' : 'Errado =('\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-data\",\n          children: [\"Streak \", streak]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-data\",\n          children: [\"Certas \", score, \" / \", currentQuestion]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answer-section\",\n        children: question.answerOptions.map(answerOption => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAnswerOptionClick(answerOption.isCorrect),\n          children: answerOption.answerText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Timer, {\n      time: getTime(streak),\n      question: currentQuestion\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"yotIW0TPZDF0pM94HegV9FKpaQY=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/mnt/sda1/Documents/Personal_projects/chords/guess_the_chord/src/AppImg.js"],"names":["React","useState","Timer","chords","generateQuestion","curr_chord_pos","Math","floor","random","length","possible_pos","pos","next_chord_pos","qtext","helper","slice","random_answers","sort","answer_pos","includes","answerOptions","map","x","question","questionText","getTime","streak","max","App","currentQuestion","setCurrentQuestion","score","setScore","setStreak","lastRight","setLastRight","handleAnswerOptionClick","isCorrect","nextQuestion","undefined","answerOption","answerText"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Timer from './Timer';\n\n// const chords = ['C', 'D', 'E', 'F', 'G', 'A', 'B'];\nconst chords = ['Do', 'Re', 'Mi', 'Fa', 'Sol', 'La', 'Si'];\n\nfunction generateQuestion() {\n  var curr_chord_pos = Math.floor(Math.random() * chords.length);\n  \n  const possible_pos = [-1, 1];\n  var pos = possible_pos[Math.floor(Math.random() * possible_pos.length)];\n  var next_chord_pos = (((curr_chord_pos + pos) % chords.length) + chords.length) % chords.length;\n  \n  const qtext = `${pos === 1 ? 'Depois de' : 'Antes de'} ${chords[curr_chord_pos]}`;\n  \n  const helper = chords.slice();\n  const random_answers = helper.sort(() => Math.random() - Math.random()).slice(0, 4);\n  const answer_pos = Math.floor(Math.random() * 4);\n  \n  if (!(random_answers.includes(chords[next_chord_pos]))) {\n    random_answers[answer_pos] = chords[next_chord_pos];\n  }\n\n  const answerOptions = random_answers.map(x => {\n    return {'answerText': x, 'isCorrect': (x === chords[next_chord_pos])}\n  });\n\n  const question = {\n    questionText: qtext,\n    answerOptions: answerOptions\n  }\n  \n  return question;\n}\n\nfunction getTime(streak) {\n  return Math.max(Math.floor(-6/25*streak + 20), 1);\n}\n\nexport default function App() {\n  const question = generateQuestion();\n\n\tconst [currentQuestion, setCurrentQuestion] = useState(0);\n\tconst [score, setScore] = useState(0);\n\tconst [streak, setStreak] = useState(0);\n\tconst [lastRight, setLastRight] = useState(null);\n\n\tconst handleAnswerOptionClick = (isCorrect) => {\n\t\tif (isCorrect) {\n\t\t\tsetScore(score + 1);\n\t\t\tsetStreak(streak + 1);\n\t\t\tsetLastRight(true);\n\t\t} else {\n      setStreak(0);\n      setLastRight(false);\n    }\n    \n    const nextQuestion = currentQuestion + 1;\n    setCurrentQuestion(nextQuestion);\n  }\n  \n\treturn (\n    <div className='wrapper'>\n      <div className='app'>\n          <div className='question-section'>\n            <div className='question-title'>\n              <span>{question.questionText}</span>\n            </div>\n            <div className='score-data feedback'>{lastRight==undefined?'Vamo que vamo' : lastRight ? 'Certo!':'Errado =('}</div>\n            <div className='score-data'>Streak {streak}</div>\n            <div className='score-data'>Certas {score} / {currentQuestion}</div>\n          </div>\n          <div className='answer-section'>\n            {question.answerOptions.map((answerOption) => (\n              <button onClick={() => handleAnswerOptionClick(answerOption.isCorrect)}>{answerOption.answerText}</button>\n              ))}\n          </div>\n      </div>\n      \n      <Timer time={getTime(streak)} question={currentQuestion}/>\n\t\t</div>\n\t);\n}"]},"metadata":{},"sourceType":"module"}